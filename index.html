<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–∫—Ü—ñ—ó –ê–¢–ë</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f0f2f5; padding: 20px; }
        .container { max-width: 600px; margin: auto; background: white; padding: 25px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h1 { color: #e30613; text-align: center; margin-bottom: 5px; }
        p.subtitle { text-align: center; color: #666; font-size: 0.9em; margin-bottom: 20px; }
        .item { display: flex; justify-content: space-between; align-items: center; padding: 12px; border-bottom: 1px solid #eee; transition: 0.3s; }
        .item:hover { background: #f9f9f9; }
        .price { font-weight: bold; color: #00569c; min-width: 90px; text-align: right; }
        .add-btn { background: #e30613; color: white; border: none; padding: 6px 12px; border-radius: 5px; cursor: pointer; margin-left: 10px; }
        .cart-section { margin-top: 30px; border-top: 2px solid #e30613; padding-top: 15px; }
        #total { font-size: 1.3em; color: #e30613; font-weight: bold; text-align: right; margin-top: 10px; }
    </style>
</head>
<body>

<div class="container">
    <h1>üõí –ê–∫—Ü—ñ—ó –ê–¢–ë</h1>
    <p class="subtitle" id="update-time">–û–Ω–æ–≤–ª—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ</p>
    
    <div id="product-list">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∞–∫—Ç—É–∞–ª—å–Ω–∏—Ö —Ü—ñ–Ω...</div>

    <div class="cart-section">
        <h3>–ú—ñ–π —Å–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫:</h3>
        <div id="cart-items"></div>
        <div id="total">–†–∞–∑–æ–º: 0.00 –≥—Ä–Ω</div>
    </div>
</div>

<script>
    let total = 0;

    async function loadData() {
        const list = document.getElementById('product-list');
        try {
            const resp = await fetch('atb_data.json?v=' + Math.random());
            const data = await resp.json();
            
            if (data.length === 0) throw new Error("–°–ø–∏—Å–æ–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π");

            list.innerHTML = '';
            data.forEach(item => {
                const div = document.createElement('div');
                div.className = 'item';
                div.innerHTML = `
                    <span>${item.name}</span>
                    <div class="price">
                        ${item.price.toFixed(2)} –≥—Ä–Ω
                        <button class="add-btn" onclick="addToCart('${item.name.replace(/'/g, "")}', ${item.price})">+</button>
                    </div>
                `;
                list.appendChild(div);
            });
        } catch (e) {
            list.innerHTML = `<p style="color:red">–ü–æ–º–∏–ª–∫–∞: –ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¥–∞–Ω—ñ. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —Ñ–∞–π–ª atb_data.json –Ω–µ –ø–æ—Ä–æ–∂–Ω—ñ–π –Ω–∞ GitHub.</p>`;
        }
    }

    function addToCart(name, price) {
        total += price;
        const cart = document.getElementById('cart-items');
        const item = document.createElement('div');
        item.style.fontSize = "0.9em";
        item.style.padding = "4px 0";
        item.innerHTML = `‚úÖ ${name} - ${price.toFixed(2)} –≥—Ä–Ω`;
        cart.appendChild(item);
        document.getElementById('total').innerText = `–†–∞–∑–æ–º: ${total.toFixed(2)} –≥—Ä–Ω`;
    }

    window.onload = loadData;
</script>
</body>
</html>
